for(i in 1:length(loaded_images)){
tryCatch(if(dim(loaded_images[[i]])[4]!=3){
loaded_images <- loaded_images[-i]
}, error=function(e){loaded_images=loaded_images[-i]})
if (dim(loaded_images[[i]])[4]==3) {
next } else if (loaded_images[[i]]==1){
lodaed_images <- loaded_images[-1]
}
}
for(i in 1:length(loaded_images)){
error_check<-FALSE
tryCatch(if(dim(loaded_images[[i]])[4]!=3){
loaded_images <- loaded_images[-i]
}, error=function(e){error_check<<-TRUE},
if(error_check){loaded_images=loaded_images[-i]})
if (dim(loaded_images[[i]])[4]==3) {
next } else if (loaded_images[[i]]==1){
lodaed_images <- loaded_images[-1]
}
}
for(i in 1:length(loaded_images)){
error_check<-FALSE
tryCatch(if(dim(loaded_images[[i]])[4]!=3){
loaded_images <- loaded_images[-i]
}, error=function(e){error_check<<-TRUE},
if(error_check){loaded_images=loaded_images[-i]})
tryCatch(if(dim(loaded_images[[i]])[4]==3){
next},error=function(e){error_check<<-TRUE},
if(error_check){loaded_images=loaded_images[-i]})
if (loaded_images[[i]]==1){
lodaed_images <- loaded_images[-1]
}
}
View(loaded_images)
for(i in 1:length(loaded_images)){
error_check<-FALSE
tryCatch(if(dim(loaded_images[[i]])[4]!=3){
loaded_images <- loaded_images[-i]
}, error=function(e){error_check<<-TRUE},
if(error_check){loaded_images=loaded_images[-i]})
tryCatch(if(dim(loaded_images[[i]])[4]==3){
next},error=function(e){error_check<<-TRUE},
if(error_check){loaded_images=loaded_images[-i]})
if (loaded_images[[i]]==1){
lodaed_images <- loaded_images[-1]
}
}
plot(loaded_images$`Cat/1.jpg`)
for(i in 1:length(loaded_images)){
loaded_images[i]<-resize(loaded_images[[i]],32,32,interpolation_type=1)
}
plot(loaded_images$`Cat/1.jpg`)
test = load("C:/Users/wtrindad/source/repos/NN_from_scratch/PetImages/Cat/1.jpg")
test = resize(test, 32, 32, interpolation_type=1)
plot(test)
test = load("C:/Users/wtrindad/source/repos/NN_from_scratch/PetImages/Cat/1.jpg")
test = resize(test, 32, 32)
plot(test)
test[2] = load("C:/Users/wtrindad/source/repos/NN_from_scratch/PetImages/Cat/2.jpg")
test[[2]] = load("C:/Users/wtrindad/source/repos/NN_from_scratch/PetImages/Cat/2.jpg")
setwd("C:/Users/wtrindad/source/repos/NN_from_scratch")
library(imager)
filenames_cat <- list.files("C:/Users/wtrindad/source/repos/NN_from_scratch/PetImages/Cat/", pattern="*.jpg", full.names=T)
load <- function(im){
skip_to_next<-FALSE
tryCatch(load.image(im), error = function(e){skip_to_next<<-TRUE},
if(skip_to_next){next})
}
loaded_images <- sapply(filenames_cat,FUN=load, USE.NAMES = TRUE)
names(loaded_images) <- gsub("C:/Users/wtrindad/source/repos/NN_from_scratch/PetImages/","",names(loaded_images))
#Due to the weird updates of index you might want to run this twice to make sure you catch all the problems
for(i in 1:length(loaded_images)){
error_check<-FALSE
tryCatch(if(dim(loaded_images[[i]])[4]!=3){
loaded_images <- loaded_images[-i]
}, error=function(e){error_check<<-TRUE},
if(error_check){loaded_images=loaded_images[-i]})
tryCatch(if(dim(loaded_images[[i]])[4]==3){
next},error=function(e){error_check<<-TRUE},
if(error_check){loaded_images=loaded_images[-i]})
if (loaded_images[[i]]==1){
lodaed_images <- loaded_images[-1]
}
}
#Due to the weird updates of index you might want to run this twice to make sure you catch all the problems
for(i in 1:length(loaded_images)){
error_check<-FALSE
tryCatch(if(dim(loaded_images[[i]])[4]!=3){
loaded_images <- loaded_images[-i]
}, error=function(e){error_check<<-TRUE},
if(error_check){loaded_images=loaded_images[-i]})
tryCatch(if(dim(loaded_images[[i]])[4]==3){
next},error=function(e){error_check<<-TRUE},
if(error_check){loaded_images=loaded_images[-i]})
if (loaded_images[[i]]==1){
lodaed_images <- loaded_images[-1]
}
}
plot(loaded_images$`Cat/1.jpg`)
for(i in 1:length(loaded_images)){
loaded_images[[i]]<-resize(loaded_images[[i]],32,32,interpolation_type=1)
}
plot(loaded_images$`Cat/1.jpg`)
loaded_images$`Cat/1.jpg`[1025]
loaded_images$`Cat/1.jpg`[1026]
loaded_images$`Cat/1.jpg`[1027]
loaded_images$`Cat/1.jpg`[3000]
loaded_images$`Cat/1.jpg`
print(loaded_images$`Cat/1.jpg`)
unlist(loaded_images$`Cat/1.jpg`)
unlist(loaded_images$`Cat/1.jpg`)
length(loaded_images$`Cat/1.jpg`)
loaded_images$`Cat/1.jpg`*2
loaded_images$`Cat/1.jpg`*10
plot(loaded_images$`Cat/1.jpg`*10)
plot(loaded_images$`Cat/1.jpg`*-10)
mean(loaded_images)
plot(loaded_images$`Cat/1.jpg`+loaded_images$`Cat/0.jpg`)
plot(loaded_images$`Cat/1.jpg`+loaded_images$`Cat/10.jpg`)
plot(loaded_images$`Cat/1.jpg`+loaded_images$`Cat/10.jpg`)
plot(loaded_images$`Cat/1.jpg`*loaded_images$`Cat/10.jpg`)
dim(loaded_images)
dim(loaded_images[[1]])
exp(2)
exp(1)
exp(0)
paste("W",1)
paste("W",1,sep="")
a<-1
b<-list(1,2,3)
c<-list(a,b)
c[1]
c[2]
d,e=c
d=c[0]
e=c[1]
d=c[1]
e=c[2]
d
e
unlist(e)
e[1]
e[[11]
e[[1]]
e[[1]]
e=c[[2]]
e
e[[1]]
e[[2]]
d
unlist(d)
e=unlist(e)
e[1]
e[2]
c[[1]]
d=c[[1]]
d
d[1]
e=c[[2]]
e
e[1]
e=c[[[2]]]
e=c[[2]]
e[2]
e[3]
Y = matrix(0,3000,1)
dim(Y)
dim(Y)[2]
c
length(c)
dim(c[[2]])
dim(c[2])
dim(c)
dim(c[1])
dim(c[[21])
dim(c[[2])
dim(c[[2]])
dim(c[[2,1]])
length(c[[2]])
for (l in 10:1){print l}
for (l in 10:1){print(l)}
for (l in 10-1:1){print(l)}
for (l in 10-1:1){print(l)}
for (l in (10-1):1){print(l)}
length(loaded_images)
cat_labels<-rep(1, length(loaded_images))
loaded_images[labels]<-cat_labels
loaded_images['labels']<-cat_labels
loaded_images$labels<-cat_labels
loaded_images$`Cat/0.jpg`
loaded_images[1]
loaded_images[[1]]
loaded_images[[1]][1]
as.matrix(loaded_images)
test<-as.matrix(loaded_images)
dim(test)
test[1]
test[2]
test[3]
test[4]
test[12471]
test[12470]
test<-as.data.frame(loaded_images)
test
View(test)
plot(test$`Cat/10038.jpg`)
plot(loaded_images$`Cat/10038.jpg`)
plot(test[`Cat/10038.jpg`,])
plot(test[`Cat/10038.jpg`,1])
plot(test[10,1])
test[10,1]
test[100,1]
test[[100,1]]
plot(test[[100,1]])
test2<-as.matrix(loaded_images)
View(test2)
test2<-as.data.frame(loaded_images)
plot(test[[2]])
a<-c(1,2)
a[1]
a[2]
gc()
setwd("C:/Users/wtrindad/source/repos/NN_from_scratch")
library(imager)
filenames_cat <- list.files("C:/Users/wtrindad/source/repos/NN_from_scratch/PetImages/Cat/", pattern="*.jpg", full.names=T)
filenames_dog <- list.files("C:/Users/wtrindad/source/repos/NN_from_scratch/PetImages/Dog/", pattern="*.jpg", full.names=T)
load <- function(im){
skip_to_next<-FALSE
tryCatch(load.image(im), error = function(e){skip_to_next<<-TRUE},
if(skip_to_next){next})
}
clean_set<-function(loaded_images){
for(i in 1:length(loaded_images)){
error_check<-FALSE
tryCatch(if(dim(loaded_images[[i]])[4]!=3){
loaded_images <- loaded_images[-i]
}, error=function(e){error_check<<-TRUE},
if(error_check){loaded_images=loaded_images[-i]})
tryCatch(if(dim(loaded_images[[i]])[4]==3){
next},error=function(e){error_check<<-TRUE},
if(error_check){loaded_images=loaded_images[-i]})
if (loaded_images[[i]]==1){
loaded_images <- loaded_images[-1]
}
}
return(loaded_images)
}
resize_and_label<-function(loaded_images,label,width,height){
for(i in 1:length(loaded_images)){
loaded_images[[i]]<-resize(loaded_images[[i]],width,height,interpolation_type=1)
}
loaded_images<-as.matrix(loaded_images)
loaded_images["labels"]<-rep(label, dim(loaded_images)[1])
return(loaded_images)
}
create_dataset<-function(filenames_cat,filenames_dog, labels=c(1,0),width,height){
loaded_cats<-sapply(filenames_cat,FUN=load,USE.NAMES=TRUE)
names(loaded_cats)<-gsub("C:/Users/wtrindad/source/repos/NN_from_scratch/PetImages/","",names(loaded_cats))
plot(loaded_cats$`Cat/1.jpg`)
loaded_cats<-clean_set(loaded_cats)
loaded_cats<-resize_and_label(loaded_cats,labels[1],width,height)
plot(loaded_cats[[2]])
loaded_dogs<-sapply(filenames_dog,FUN=load,USE.NAMES=TRUE)
names(loaded_dogs)<-gsub("C:/Users/wtrindad/source/repos/NN_from_scratch/PetImages/","",names(loaded_dogs))
plot(loaded_cats$`Dog/1.jpg`)
loaded_dogs<-clean_set(loaded_dogs)
loaded_dogs<-resize_and_label(loaded_dogs,labels[2],width,height)
plot(loaded_dogs[[2]])
dataset<-rbind(loaded_cats,loaded_dogs)
return(dataset)
}
img_data<-create_dataset(filenames_cat,filenames_dog,labels=c(1,0),width=32,height=32)
gc()
setwd("C:/Users/wtrindad/source/repos/NN_from_scratch")
library(imager)
filenames_cat <- list.files("C:/Users/wtrindad/source/repos/NN_from_scratch/PetImages/Cat/", pattern="*.jpg", full.names=T)
filenames_dog <- list.files("C:/Users/wtrindad/source/repos/NN_from_scratch/PetImages/Dog/", pattern="*.jpg", full.names=T)
load <- function(im){
skip_to_next<-FALSE
tryCatch(load.image(im), error = function(e){skip_to_next<<-TRUE},
if(skip_to_next){next})
}
clean_set<-function(loaded_images){
for(i in 1:length(loaded_images)){
error_check<-FALSE
tryCatch(if(dim(loaded_images[[i]])[4]!=3){
loaded_images <- loaded_images[-i]
}, error=function(e){error_check<<-TRUE},
if(error_check){loaded_images=loaded_images[-i]})
tryCatch(if(dim(loaded_images[[i]])[4]==3){
next},error=function(e){error_check<<-TRUE},
if(error_check){loaded_images=loaded_images[-i]})
tryCatch(if(loaded_images[[i]]==1){
loaded_images <- loaded_images[-1]
}, error=function(e){error_check<<-TRUE},
if(error_check){next})
}
return(loaded_images)
}
resize_and_label<-function(loaded_images,label,width,height){
for(i in 1:length(loaded_images)){
loaded_images[[i]]<-resize(loaded_images[[i]],width,height,interpolation_type=1)
}
loaded_images<-as.matrix(loaded_images)
loaded_images["labels"]<-rep(label, dim(loaded_images)[1])
return(loaded_images)
}
create_dataset<-function(filenames_cat,filenames_dog, labels=c(1,0),width,height){
loaded_cats<-sapply(filenames_cat,FUN=load,USE.NAMES=TRUE)
names(loaded_cats)<-gsub("C:/Users/wtrindad/source/repos/NN_from_scratch/PetImages/","",names(loaded_cats))
plot(loaded_cats$`Cat/1.jpg`)
loaded_cats<-clean_set(loaded_cats)
loaded_cats<-resize_and_label(loaded_cats,labels[1],width,height)
plot(loaded_cats[[2]])
loaded_dogs<-sapply(filenames_dog,FUN=load,USE.NAMES=TRUE)
names(loaded_dogs)<-gsub("C:/Users/wtrindad/source/repos/NN_from_scratch/PetImages/","",names(loaded_dogs))
plot(loaded_cats$`Dog/1.jpg`)
loaded_dogs<-clean_set(loaded_dogs)
loaded_dogs<-resize_and_label(loaded_dogs,labels[2],width,height)
plot(loaded_dogs[[2]])
dataset<-rbind(loaded_cats,loaded_dogs)
return(dataset)
}
img_data<-create_dataset(filenames_cat,filenames_dog,labels=c(1,0),width=32,height=32)
rep(0,100)
rep(0,NA)
rep(0,NULL)
test<-1:10
samples<-sample(c(TRUE,FALSE),length(test),replace=TRUE, prob=c(0.7,0.3))
samples
test[samples]
test[!samples]
samples<-sample(c(TRUE,FALSE),length(test),replace=FALSE, prob=c(0.7,0.3))
loaded_dogs<-sapply(filenames_dog,FUN=load,USE.NAMES=TRUE)
names(loaded_dogs)<-gsub("C:/Users/wtrindad/source/repos/NN_from_scratch/PetImages/","",names(loaded_dogs))
plot(loaded_dogs$`Dog/1.jpg`)
loaded_dogs<-clean_set(loaded_dogs)
loaded_dogs<-resize_and_label(loaded_dogs,labels[2],width,height)
loaded_dogs<-resize_and_label(loaded_dogs,labels[2],width,height)
loaded_dogs<-resize_and_label(loaded_dogs,labels[2],width,height)
loaded_dogs<-resize_and_label(loaded_dogs,labels[2],width,height)
resize_and_label<-function(loaded_images,label,width,height){
debug()
for(i in 1:length(loaded_images)){
loaded_images[[i]]<-resize(loaded_images[[i]],width,height,interpolation_type=1)
}
loaded_images<-as.matrix(loaded_images)
loaded_images["labels"]<-rep(label, dim(loaded_images)[1])
return(loaded_images)
}
loaded_dogs<-resize_and_label(loaded_dogs,labels[2],width,height)
resize_and_label<-function(loaded_images,label,width,height){
browser()
for(i in 1:length(loaded_images)){
loaded_images[[i]]<-resize(loaded_images[[i]],width,height,interpolation_type=1)
}
loaded_images<-as.matrix(loaded_images)
loaded_images["labels"]<-rep(label, dim(loaded_images)[1])
return(loaded_images)
}
loaded_dogs<-resize_and_label(loaded_dogs,labels[2],width,height)
labels=c(1,0)
labels[1]
labels[2]
resize_and_label<-function(loaded_images,label,width,height){
for(i in 1:length(loaded_images)){
loaded_images[[i]]<-resize(loaded_images[[i]],width,height,interpolation_type=1)
}
loaded_images<-as.matrix(loaded_images)
loaded_images["labels"]<-rep(label, dim(loaded_images)[1])
return(loaded_images)
}
loaded_dogs<-resize_and_label(loaded_dogs,labels[2],width=32,height=32)
View(loaded_dogs)
loaded_dogs<-as.matrix(loaded_dogs)
View(loaded_dogs)
loaded_dogs[[2]]
plot(loaded_dogs[[2]])
loaded_dogs["labels"]<-rep(labels[2],dim(loaded_dogs)[1])
dim(loaded_dogs)[1]
View(loaded_dogs)
loaded_dogs<-as.matrix(loaded_dogs)
View(loaded_dogs)
dim(loaded_dogs)[1]
loaded_dogs["labels"]<-rep(labels[2],dim(loaded_dogs)[1])
labels[2]
loaded_dogs<-as.matrix(loaded_dogs)
len(loaded_dogs)
length(loaded_dogs)
type(loaded_dogs)
typeof(loaded_dogs)
typeof(as.matrix(loaded_dogs))
View(loaded_dogs)
loaded_dogs["labels"]<-rep(labels[2],dim(loaded_dogs)[1])
View(loaded_dogs)
loaded_dogs<-as.data.frame(loaded_dogs)
loaded_dogs<-as.matrix(loaded_dogs)
View(loaded_dogs)
loaded_dogs[1,1:2]
loaded_dogs[1:2,1]
loaded_dogs[[1]]
loaded_dogs[,"labels"]<-rep(labels[2],dim(loaded_dogs)[1])
dim(loaded_dogs)[1]
loaded_dogs$labels<-rep(labels[2],dim(loaded_dogs)[1])
loaded_dogs<-as.matrix(loaded_dogs)
loaded_dogs[,"labels"]<-rep(labels[2],dim(loaded_dogs)[1])
loaded_dogs["labels"]<-rep(labels[2],dim(loaded_dogs)[1])
loaded_dogs<-matrix(unlist(loaded_dogs), nrow=length(loaded_dogs), ncol=1)
View(loaded_dogs)
list1<-list(1,2)
list2<-list(1,2,3)
list1<-list(1,2)
list2<-list(3,4)
list3<-(5,6)
list3<-list(5,6)
list_list<-list(list1,list2,list3)
list_list
View(list_list)
as.matrix(list_list)
asm<-as.matrix(list_list)
list[[1]]
asm[[1]]
asm[1]
asm[2]
asm<-do.call("cbind",list_list)
asm
gc()
setwd("C:/Users/wtrindad/source/repos/NN_from_scratch")
library(imager)
filenames_cat <- list.files("C:/Users/wtrindad/source/repos/NN_from_scratch/PetImages/Cat/", pattern="*.jpg", full.names=T)
filenames_dog <- list.files("C:/Users/wtrindad/source/repos/NN_from_scratch/PetImages/Dog/", pattern="*.jpg", full.names=T)
load <- function(im){
skip_to_next<-FALSE
tryCatch(load.image(im), error = function(e){skip_to_next<<-TRUE},
if(skip_to_next){next})
}
clean_set<-function(loaded_images){
for(i in 1:length(loaded_images)){
error_check<-FALSE
tryCatch(if(dim(loaded_images[[i]])[4]!=3){
loaded_images <- loaded_images[-i]
}, error=function(e){error_check<<-TRUE},
if(error_check){loaded_images=loaded_images[-i]})
tryCatch(if(dim(loaded_images[[i]])[4]==3){
next},error=function(e){error_check<<-TRUE},
if(error_check){loaded_images=loaded_images[-i]})
tryCatch(if(loaded_images[[i]]==1){
loaded_images <- loaded_images[-1]
}, error=function(e){error_check<<-TRUE},
if(error_check){next})
}
return(loaded_images)
}
resize_and_label<-function(loaded_images,label,width,height){
for(i in 1:length(loaded_images)){
loaded_images[[i]]<-resize(loaded_images[[i]],width,height,interpolation_type=1)
}
loaded_images<-as.matrix(loaded_images)
loaded_images["labels"]<-rep(label, dim(loaded_images)[1])
return(loaded_images)
}
loaded_dogs<-sapply(filenames_dog,FUN=load,USE.NAMES=TRUE)
names(loaded_dogs)<-gsub("C:/Users/wtrindad/source/repos/NN_from_scratch/PetImages/","",names(loaded_dogs))
plot(loaded_dogs$`Dog/1.jpg`)
loaded_dogs<-clean_set(loaded_dogs)
for(i in 1:length(loaded_dogs)){
loaded_dogs[[i]]<-resize(loaded_dogs[[i]],width,height,interpolation_type=1)
}
for(i in 1:length(loaded_dogs)){
loaded_dogs[[i]]<-resize(loaded_dogs[[i]],32,32,interpolation_type=1)
}
safe<-loaded_dogs
test_mat<-do.call("cbind",loaded_dogs)
View(test_mat)
dim(test_mat)
plot(test_mat[1])
test_mat[1]
test_mat$`Dog/0.jpg`
test_mat[`Dog/0.jpg`]
View(test_mat)
test_mat@1
test_mat$1
test_mat[[1]]
View(test_mat)
test_mat["column 1"]
test_mat["Dog/0.jpg"]
names(test_mat)
columns(test_mat)
column(test_mat)
colnames(test_mat)
test_mat[Dog/0.jpg]
test_mat[""Dog/0.jpg""]
test_mat['"Dog/0.jpg"']
test_mat["Dog/0.jpg"]
test_mat[1]
test_mat[[1]]
test_mat[1,2]
test_mat[1,3]
test_mat[,3]
test_mat[,1]
plot(test_mat[,1])
plot(as.cimg(test_mat[,1]))
plot(as.cimg(test_mat[,1],x=32,y=32,z=1,cc=3))
plot(as.cimg(test_mat[,2],x=32,y=32,z=1,cc=3))
dog_labels<-rep(0,dim(test_mat)[2])
cat_labels<-rep(1,dim(test_mat)[2])
test_label<-append(dog_labels,cat_labels)
dim(test_mat[,1])
dim(test_mat)
test_mat2<-do.call("cbind", safe)
test_mat3<-cbind(test_mat,test_mat2)
dim(test_mat3)
